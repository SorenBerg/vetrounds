<% provide(:title, "Signup") %>

<%= render "layouts/nav_admin_top" %>

<div class="container-fluid">
  <div class="row signup-row cont-q">
    <div class="col-lg-6 col-md-6 col-sm-6">

      <div class="tab-signup">
        <h2>Join Today</h2>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs">
          <li class="active"><a href="#client-signup" data-toggle="tab">Client</a></li>
          <li><a href="#doctor-signup" data-toggle="tab">Doctor</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
          <div class="tab-pane active" id="client-signup">
            <%= form_for @user, url: {action: "create_client"}, html: {class: "form-horizontal", id: "client_new_user"} do |f| %>
              <%= render "shared/user_error_messages" %>
              <div class="form-group">
                <div class="col-sm-8">
                  <%= f.text_field :name, :class => "form-control", :placeholder => "Name" %>
                </div>
                <div class="col-sm-4"></div>
              </div>
              <div class="form-group">
                <div class="col-sm-8">
                  <%= f.text_field :email, :class => "form-control", :placeholder => "Email" %>
                </div>
                <div class="col-sm-4"></div>
              </div>
              <div class="form-group">
                <div class="col-sm-8">
                  <%= f.password_field :password, :class => "form-control", :placeholder => "Password" %>
                </div>
                <div class="col-sm-4"></div>
              </div>
              <div class="form-group">
                <div class="col-sm-8">
                  <%= f.password_field :password_confirmation, :class => "form-control", :placeholder => "Confirm Password" %>
                </div>
                <div class="col-sm-4"></div>
              </div>

              <%= f.fields_for :detail do |detail_f| %>
                <div class="form-group">
                  <div class="col-sm-8">
                    <%= detail_f.text_field :zipcode, :class => "form-control", :placeholder => "Zipcode" %>
                  </div>
                  <div class="col-sm-4"></div>
                </div>
              <% end %>

              <div class="form-group">
                <div class="col-sm-12">
                  <%= f.submit "Sign Up as Pet Owner", class: "btn btn-primary" %>
                </div>
              </div>
              <%= link_to "Already have an account?", login_path %>
            <% end %>
          </div>
          <div class="tab-pane" id="doctor-signup">
            <% if true %>
              We are still in Beta right now.  If you would like to participate, email us at
              <a href="mailto:brian@vetrounds.com?Subject=Join%20Request">Vetrounds</a>.
            <% else %>
              <%= form_for @user, url: {action: "create_vet"}, html: {class: "form-horizontal", id: "vet_new_user"} do |f| %>
                <%= render "shared/user_error_messages" %>

                <div class="form-group">
                  <div class="col-sm-8">
                    <%= f.text_field :name, :class => "form-control", :placeholder => "Name" %>
                  </div>
                  <div class="col-sm-4"></div>
                </div>
                <div class="form-group">
                  <div class="col-sm-8">
                    <%= f.text_field :email, :class => "form-control", :placeholder => "Email" %>
                  </div>
                  <div class="col-sm-4"></div>
                </div>
                <div class="form-group">
                  <div class="col-sm-8">
                    <%= f.password_field :password, :class => "form-control", :placeholder => "Password" %>
                  </div>
                  <div class="col-sm-4"></div>
                </div>
                <div class="form-group">
                  <div class="col-sm-8">
                    <%= f.password_field :password_confirmation, :class => "form-control", :placeholder => "Confirm Password" %>
                  </div>
                  <div class="col-sm-4"></div>
                </div>

                <%= f.fields_for :detail do |detail_f| %>
                  <div class="form-group">
                    <div class="col-sm-8">
                      <%=
                        detail_f.select(
                          :area_of_practise,
                          options_for_select(
                            [
                              ['Area of Practice', ''],
                              ['Companion Animals', 'Companion Animals'],
                              ['Exotics', 'Exotics'],
                              ['Mixed Animal', 'Mixed Animal'],
                              ['Other', 'Other']
                            ],
                            @user.detail.area_of_practise
                          ),
                          {},
                          {
                            :class => "form-control",
                            :id => "user_details_area_of_practice_select"
                          }
                        )
                      %>
                    </div>
                    <div class="col-sm-4"></div>
                  </div>

                  <div id="user_details_area_of_practice_text_div" class="form-group hidden">
                    <div class="col-sm-8">
                      <%=
                        detail_f.text_field(
                          :area_of_practise,
                          {
                            :class => "form-control",
                            :placeholder => "Specify your Area of Practice",
                            :id => 'user_details_area_of_practice_text'
                          }
                        )
                      %>
                    </div>
                    <div class="col-sm-4"></div>
                  </div>

                  <div class="form-group">
                    <div class="col-sm-8">
                      <%= detail_f.text_field :zipcode, :class => "form-control", :placeholder => "Zipcode" %>
                    </div>
                    <div class="col-sm-4"></div>
                  </div>

                  <div class="form-group">
                    <div class="col-sm-8">
                      <%= detail_f.text_field :vetinary_school, :class => "form-control", :placeholder => "Which Veterinary School did you graduate from?" %>
                    </div>
                    <div class="col-sm-4">
                      <%= detail_f.text_field :vetinary_school_year, :class => "form-control", :placeholder => "Year" %>
                    </div>
                  </div>

                  <div class="form-group">
                    <div class="col-sm-8">
                      <%=
                        detail_f.select(
                          :degree,
                          options_for_select(
                            [
                              ['Degree', ''],
                              ['DVM', 'DVM'],
                              ['VMD', 'VMD'],
                              ['Other', 'Other']
                            ],
                            @user.detail.degree
                          ),
                          {},
                          {
                            :class => "form-control",
                            :id => "user_details_degree_select"
                          }
                        )
                      %>
                    </div>
                    <div class="col-sm-4"></div>
                  </div>

                  <div id="user_details_degree_text_div" class="form-group hidden">
                    <div class="col-sm-8">
                      <%=
                        detail_f.text_field(
                          :degree,
                          {
                            :class => "form-control",
                            :placeholder => "Specify your Degree",
                            :id => "user_details_degree_text"
                          }
                        )
                      %>
                    </div>
                    <div class="col-sm-4"></div>
                  </div>

                  <div class="form-group">
                    <div class="col-sm-8">
                      <%= detail_f.text_field :licence_number, :class => "form-control", :placeholder => "Professional License Number" %>
                    </div>
                    <div class="col-sm-4">
                      <%= detail_f.text_field :licence_state, :class => "form-control", :placeholder => "State" %>
                    </div>
                  </div>
                <% end %>
                
                <div class="form-group">
                  <div class="col-sm-12">
                    <%= f.submit "Sign Up as Doctor", class: "btn btn-primary" %>
                  </div>
                </div>
                <%= link_to "Already have an account?", login_path %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
   <!--  <div class="col-lg-6 col-md-6 col-sm-6">
      <div class="div-benefits">
        <h2>Benefits For You</h2>
        <div class="benefit-cont">
          <p>Gain new clients</p>
<li>Clients can request to book appointments</li>
<li>Have the history already created</li>
          <p>Enhance Your Reputation</p>
<li>Reach out to members in your community</li>
<li>Establish relationships outside of your office</li>
          <p>Earn credit for answer
<li>Patients can thank youPeers can agree with you</li>
<p>Connect with Top Doctors and Patients
<li>Round on topics with other doctors and patients</li>
<li>Agree with other doctors opinions</li>
          <p></p>
        </div>
      </div>
    </div> -->
  </div>
</div>

<script type="text/javascript">
  jQuery(document).ready(function () {
    if (jQuery('#user_details_degree_select').val() === "Other") {
      jQuery('#user_details_degree_text_div').removeClass('hidden');
      jQuery('#user_details_degree_text').val('');
    } else {
      jQuery('#user_details_degree_text_div').addClass('hidden');
      jQuery('#user_details_degree_text').val(jQuery('#user_details_degree_select').val());
    }

    if (jQuery('#user_details_area_of_practice_select').val() === "Other") {
      jQuery('#user_details_area_of_practice_text_div').removeClass('hidden');
      jQuery('#user_details_area_of_practice_text').val('');
    } else {
      jQuery('#user_details_area_of_practice_text_div').addClass('hidden');
      jQuery('#user_details_area_of_practice_text').val(jQuery('#user_details_area_of_practice_select').val());
    }

    jQuery('#user_details_area_of_practice_select').change(function () {
      if (jQuery(this).val() === "Other") {
        jQuery('#user_details_area_of_practice_text_div').removeClass('hidden');
        jQuery('#user_details_area_of_practice_text').val('');
      } else {
        jQuery('#user_details_area_of_practice_text_div').addClass('hidden');
        jQuery('#user_details_area_of_practice_text').val(jQuery(this).val());
      }
    });

    jQuery('#user_details_degree_select').change(function () {
      if (jQuery(this).val() === "Other") {
        jQuery('#user_details_degree_text_div').removeClass('hidden');
        jQuery('#user_details_degree_text').val('');
      } else {
        jQuery('#user_details_degree_text_div').addClass('hidden');
        jQuery('#user_details_degree_text').val(jQuery(this).val());
      }
    });
  });
</script>
